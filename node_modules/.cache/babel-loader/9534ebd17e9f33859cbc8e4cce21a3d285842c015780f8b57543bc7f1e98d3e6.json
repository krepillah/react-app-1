{"ast":null,"code":"import React from\"react\";import Movies from\"../components/Movies\";import Search from\"../components/Search\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_KEY=process.env.REACT_APP_MOVIES_API_KEY;class Main extends React.Component{constructor(){var _this;super(...arguments);_this=this;this.state={movies:[],loading:true};this.filmSearch=function(data){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"all\";let str='';if(data===''){data=\"sex\";}if(type===\"all\"){str=\"https://www.omdbapi.com/?s=\".concat(data,\"&apikey=\").concat(API_KEY);}else{str=\"https://www.omdbapi.com/?s=\".concat(data,\"&apikey=\").concat(API_KEY,\"&type=\").concat(type);}fetch(str).then(response=>response.json()).then(data=>_this.setState({movies:data.Search,loading:false})).catch(err=>{console.error(err);_this.setState({loading:false});});};}componentDidMount(){fetch(\"https://www.omdbapi.com/?s=sex&apikey=\".concat(API_KEY)).then(response=>response.json()).then(data=>this.setState({movies:data.Search,loading:false})).catch(err=>{console.error(err);this.setState({loading:false});});}render(){const{movies,loading}=this.state;return/*#__PURE__*/_jsxs(\"main\",{className:\"container content\",children:[/*#__PURE__*/_jsx(Search,{filmSearch:this.filmSearch}),!loading?/*#__PURE__*/_jsx(Movies,{movies:movies}):/*#__PURE__*/_jsx(\"div\",{className:\"progress\",children:/*#__PURE__*/_jsx(\"div\",{className:\"indeterminate\"})})]});}}export default Main;","map":{"version":3,"names":["React","Movies","Search","jsx","_jsx","jsxs","_jsxs","API_KEY","process","env","REACT_APP_MOVIES_API_KEY","Main","Component","constructor","_this","arguments","this","state","movies","loading","filmSearch","data","type","length","undefined","str","concat","fetch","then","response","json","setState","catch","err","console","error","componentDidMount","render","className","children"],"sources":["Z:/GitHub/react-app-1/src/layout/Main.jsx"],"sourcesContent":["import React from \"react\";\r\nimport Movies from \"../components/Movies\"\r\nimport Search from \"../components/Search\"\r\n\r\nconst API_KEY = process.env.REACT_APP_MOVIES_API_KEY;\r\n\r\nclass Main extends React.Component {\r\n    state = {\r\n        movies: [],\r\n        loading: true,\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch(`https://www.omdbapi.com/?s=sex&apikey=${API_KEY}`)\r\n        .then((response) => response.json())\r\n        .then((data) => this.setState({movies: data.Search, loading: false}))\r\n        .catch((err) => {console.error(err); this.setState({loading: false})})\r\n    }\r\n\r\n    filmSearch = (data, type = \"all\") => {\r\n        let str = ''\r\n        if(data ===''){\r\n            data = \"sex\"\r\n        }\r\n        if(type === \"all\"){\r\n            str = `https://www.omdbapi.com/?s=${data}&apikey=${API_KEY}`\r\n        } else{\r\n            str = `https://www.omdbapi.com/?s=${data}&apikey=${API_KEY}&type=${type}`\r\n        }\r\n        fetch(str)\r\n        .then((response) => response.json())\r\n        .then((data) => this.setState({movies: data.Search, loading: false}))\r\n        .catch((err) => {console.error(err); this.setState({loading: false})})\r\n    }\r\n\r\n    render() {\r\n        const {movies, loading} = this.state;\r\n        return (\r\n            <main className=\"container content\">\r\n                <Search filmSearch={this.filmSearch}/>\r\n                {!loading ? (<Movies movies={movies}/>) : (<div className=\"progress\"><div className=\"indeterminate\"></div>\r\n  </div>)}\r\n            </main>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Main;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,MAAO,CAAAC,MAAM,KAAM,sBAAsB,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzC,KAAM,CAAAC,OAAO,CAAGC,OAAO,CAACC,GAAG,CAACC,wBAAwB,CAEpD,KAAM,CAAAC,IAAI,QAAS,CAAAX,KAAK,CAACY,SAAU,CAAAC,YAAA,MAAAC,KAAA,UAAAC,SAAA,EAAAD,KAAA,CAAAE,IAAA,MAC/BC,KAAK,CAAG,CACJC,MAAM,CAAE,EAAE,CACVC,OAAO,CAAE,IACb,CAAC,MASDC,UAAU,CAAG,SAACC,IAAI,CAAmB,IAAjB,CAAAC,IAAI,CAAAP,SAAA,CAAAQ,MAAA,IAAAR,SAAA,MAAAS,SAAA,CAAAT,SAAA,IAAG,KAAK,CAC5B,GAAI,CAAAU,GAAG,CAAG,EAAE,CACZ,GAAGJ,IAAI,GAAI,EAAE,CAAC,CACVA,IAAI,CAAG,KAAK,CAChB,CACA,GAAGC,IAAI,GAAK,KAAK,CAAC,CACdG,GAAG,+BAAAC,MAAA,CAAiCL,IAAI,aAAAK,MAAA,CAAWnB,OAAO,CAAE,CAChE,CAAC,IAAK,CACFkB,GAAG,+BAAAC,MAAA,CAAiCL,IAAI,aAAAK,MAAA,CAAWnB,OAAO,WAAAmB,MAAA,CAASJ,IAAI,CAAE,CAC7E,CACAK,KAAK,CAACF,GAAG,CAAC,CACTG,IAAI,CAAEC,QAAQ,EAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAAEP,IAAI,EAAKP,KAAI,CAACiB,QAAQ,CAAC,CAACb,MAAM,CAAEG,IAAI,CAACnB,MAAM,CAAEiB,OAAO,CAAE,KAAK,CAAC,CAAC,CAAC,CACpEa,KAAK,CAAEC,GAAG,EAAK,CAACC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CAAEnB,KAAI,CAACiB,QAAQ,CAAC,CAACZ,OAAO,CAAE,KAAK,CAAC,CAAC,EAAC,CAAC,CAC1E,CAAC,EArBDiB,iBAAiBA,CAAA,CAAG,CAChBT,KAAK,0CAAAD,MAAA,CAA0CnB,OAAO,CAAE,CAAC,CACxDqB,IAAI,CAAEC,QAAQ,EAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAAEP,IAAI,EAAK,IAAI,CAACU,QAAQ,CAAC,CAACb,MAAM,CAAEG,IAAI,CAACnB,MAAM,CAAEiB,OAAO,CAAE,KAAK,CAAC,CAAC,CAAC,CACpEa,KAAK,CAAEC,GAAG,EAAK,CAACC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CAAE,IAAI,CAACF,QAAQ,CAAC,CAACZ,OAAO,CAAE,KAAK,CAAC,CAAC,EAAC,CAAC,CAC1E,CAkBAkB,MAAMA,CAAA,CAAG,CACL,KAAM,CAACnB,MAAM,CAAEC,OAAO,CAAC,CAAG,IAAI,CAACF,KAAK,CACpC,mBACIX,KAAA,SAAMgC,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAC/BnC,IAAA,CAACF,MAAM,EAACkB,UAAU,CAAE,IAAI,CAACA,UAAW,CAAC,CAAC,CACrC,CAACD,OAAO,cAAIf,IAAA,CAACH,MAAM,EAACiB,MAAM,CAAEA,MAAO,CAAC,CAAC,cAAKd,IAAA,QAAKkC,SAAS,CAAC,UAAU,CAAAC,QAAA,cAACnC,IAAA,QAAKkC,SAAS,CAAC,eAAe,CAAM,CAAC,CACnH,CAAE,EACS,CAAC,CAEf,CACJ,CAEA,cAAe,CAAA3B,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}